(function(e){function t(t){for(var i,a,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);f&&f(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(i=!1)}i&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},r=[];function a(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"d262e34b"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=o[e]=[t,i]}));t.push(n[2]=i);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=a(e);var u=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",u.name="ChunkLoadError",u.type=i,u.request=r,n[1](u)}o[e]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/anyform/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2d20":function(e,t,n){"use strict";n("be7d")},"2e4a":function(e,t,n){"use strict";n("c644")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),o={id:"nav"},r=Object(i["h"])("Home"),a=Object(i["h"])(" | "),c=Object(i["h"])("About");function s(e,t){var n=Object(i["y"])("router-link"),s=Object(i["y"])("router-view");return Object(i["r"])(),Object(i["f"])(i["a"],null,[Object(i["i"])("div",o,[Object(i["i"])(n,{to:"/"},{default:Object(i["E"])((function(){return[r]})),_:1}),a,Object(i["i"])(n,{to:"/about"},{default:Object(i["E"])((function(){return[c]})),_:1})]),Object(i["i"])(s)],64)}n("9499");const u={};u.render=s;var l=u,f=n("9483");Object(f["a"])("".concat("/anyform/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7");var d=n("6c02"),b=Object(i["G"])("data-v-7961020d");Object(i["u"])("data-v-7961020d");var p=Object(i["i"])("h1",null,"anyform.*",-1),m={class:"file-input"},j=Object(i["i"])("p",null,"Add Images Here",-1),O={class:"files"},g={class:"process"},v={class:"process__mid"};Object(i["s"])();var h=b((function(e,t,n,o,r,a){var c=Object(i["y"])("format-selector"),s=Object(i["y"])("file-cell");return Object(i["r"])(),Object(i["f"])(i["a"],null,[p,Object(i["i"])("label",m,[Object(i["i"])("input",{onChange:t[1]||(t[1]=function(){return a.input&&a.input.apply(a,arguments)}),type:"file",name:"thing",id:"",multiple:""},null,32),j]),Object(i["i"])(c),Object(i["i"])("div",O,[Object(i["i"])(i["c"],{name:"list"},{default:b((function(){return[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["x"])(a.files,(function(e){return Object(i["r"])(),Object(i["f"])(s,{class:"list-item",key:e.id,file:e},null,8,["file"])})),128))]})),_:1})]),Object(i["i"])(i["b"],{name:"fade",tag:"div"},{default:b((function(){return[Object(i["i"])("div",g,[Object(i["i"])("div",v,[a.nonProcessed.length>0?(Object(i["r"])(),Object(i["f"])("button",{key:0,onClick:t[2]||(t[2]=function(){return a.process&&a.process.apply(a,arguments)})}," process ")):Object(i["g"])("",!0)])])]})),_:1})],64)})),F=(n("4de4"),n("b0c0"),Object(i["G"])("data-v-719629d4"));Object(i["u"])("data-v-719629d4");var y={key:0,class:"failed"},w={key:0,class:"processing"},k={key:0,class:"image"},_={class:"overlay"};Object(i["s"])();var x=F((function(e,t,n,o,r,a){return Object(i["r"])(),Object(i["f"])("div",{class:{file:!0,"file_has-image":a.doneProcessing}},[Object(i["i"])(i["b"],{name:"fade"},{default:F((function(){return[n.file.status===a.FILE_STATUS.failed?(Object(i["r"])(),Object(i["f"])("div",y," ! ")):Object(i["g"])("",!0)]})),_:1}),Object(i["i"])(i["b"],{name:"fade"},{default:F((function(){return[n.file.status===a.FILE_STATUS.processing?(Object(i["r"])(),Object(i["f"])("div",w)):Object(i["g"])("",!0)]})),_:1}),Object(i["i"])(i["b"],{name:"fade"},{default:F((function(){return[null!==a.blobURL?(Object(i["r"])(),Object(i["f"])("div",k,[null!==a.blobURL?(Object(i["r"])(),Object(i["f"])("img",{key:0,src:a.blobURL,alt:""},null,8,["src"])):Object(i["g"])("",!0)])):Object(i["g"])("",!0)]})),_:1}),Object(i["i"])(i["b"],{name:"fade"}),Object(i["i"])("div",_,[Object(i["i"])("p",null,Object(i["A"])(n.file.name),1),null!==a.newFileName?(Object(i["r"])(),Object(i["f"])("a",{key:0,class:"download",href:a.blobURL,download:a.newFileName},"download "+Object(i["A"])(a.newFileName),9,["href","download"])):Object(i["g"])("",!0)])],2)})),A=(n("a15b"),n("fb6a"),n("ac1f"),n("3ca3"),n("1276"),n("ddb0"),n("2b3d"),{initialized:0,waiting:1,processing:2,failed:-1,processed:3}),S={name:"fileCell",props:{file:Object},computed:{FILE_STATUS:function(){return A},blobURL:function(){return null!==this.file.output&&void 0!==this.file.output?(console.log(this.file.output),URL.createObjectURL(this.file.output)):null},newFileName:function(){return this.file.status===A.processed?this.file.name.split(".").slice(0,-1).join(".")+"."+this.file.config.format.extension:null},doneProcessing:function(){return this.file.status===A.processed||this.file.status===A.failed}}};n("e5c7");S.render=x,S.__scopeId="data-v-719629d4";var P=S,I=Object(i["G"])("data-v-3f9fe57e");Object(i["u"])("data-v-3f9fe57e");var L={class:"selector-con"},M={class:"select"},E={class:"desc"};Object(i["s"])();var T=I((function(e,t,n,o,r,a){return Object(i["r"])(),Object(i["f"])(i["a"],null,[Object(i["i"])("div",L,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["x"])(a.formats,(function(e){return Object(i["r"])(),Object(i["f"])("label",{class:"selector",key:e.name},[Object(i["F"])(Object(i["i"])("input",{name:"format",value:e,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedFormat=e}),type:"radio"},null,8,["value"]),[[i["C"],r.selectedFormat]]),Object(i["i"])("div",M,Object(i["A"])(e.name),1)])})),128))]),Object(i["i"])("p",E,"converts all images to "+Object(i["A"])(r.selectedFormat.name)+" with extension ."+Object(i["A"])(r.selectedFormat.extension),1)],64)})),U={name:"formatSelector",data:function(){return{selectedFormat:null}},computed:{formats:function(){return this.$store.state.formats}},watch:{selectedFormat:function(){this.$store.commit("setFormat",this.selectedFormat)}},created:function(){this.selectedFormat=this.formats[0]}};n("2e4a");U.render=T,U.__scopeId="data-v-3f9fe57e";var C=U,N={name:"App",computed:{files:function(){return this.$store.state.files},nonProcessed:function(){return this.files.filter((function(e){return e.status===A.initialized}))}},methods:{input:function(e){var t=e.target;this.$store.dispatch("addFiles",t.files)},process:function(){this.$store.dispatch("processAllFiles",{format:this.selectedFormat})}},components:{FileCell:P,FormatSelector:C},created:function(){this.$store.dispatch("loadWorker")}};n("2d20");N.render=h,N.__scopeId="data-v-7961020d";var W=N,R=[{path:"/",name:"Home",component:W},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],$=Object(d["a"])({history:Object(d["b"])(),routes:R}),J=$,z=(n("7db0"),n("4160"),n("159b"),n("5502"));function G(){return new Worker(n.p+"js/img-worker.8c925575.worker.js")}var H=n("7480"),q=Object(z["a"])({state:{files:[],nextIndex:0,worker:null,formats:[{name:"jpeg",extension:"jpg",magickFormat:H["MagickFormat"].Jpg},{name:"png",extension:"png",magickFormat:H["MagickFormat"].Png},{name:"tiff",extension:"tif",magickFormat:H["MagickFormat"].Tif},{name:"webp",extension:"webp",magickFormat:H["MagickFormat"].Webp},{name:"gif",extension:"gif",magickFormat:H["MagickFormat"].Gif},{name:"bmp",extension:"bmp",magickFormat:H["MagickFormat"].Bmp}],config:{format:null}},mutations:{setFormat:function(e,t){e.config.format=t},addFile:function(e,t){e.files.push(t)},setData:function(e,t){var n=t.id,i=t.data,o=e.files.find((function(e){return e.id===n}));o.output=i.output,o.config=i.config},setStatus:function(e,t){var n=t.id,i=t.status,o=e.files.find((function(e){return e.id===n}));o.status=i},incrementId:function(e){e.nextIndex++},addWorker:function(e,t){e.worker=t}},actions:{loadWorker:function(e){var t=new G;this.state.worker=t,t.postMessage({action:"load"}),t.onmessage=function(t){var n=t.data.status,i=!1;"loaded"===n?console.log("loaded"):"processed"===n?(e.commit("setStatus",{id:t.data.id,status:A.processed}),e.commit("setData",{id:t.data.id,data:t.data}),i=!0):"failed"===n&&(e.commit("setStatus",{id:t.data.id,status:A.failed}),i=!0),i&&e.dispatch("processAllWaiting")}},addFile:function(e,t){var n={id:e.state.nextIndex,ogFile:t,name:t.name,status:A.initialized,output:null,config:null,process:[]};e.commit("incrementId"),e.commit("addFile",n)},addFiles:function(e,t){t.forEach((function(t){e.dispatch("addFile",t)}))},processAllFiles:function(e){var t=e.state.files.filter((function(e){return e.status===A.initialized}));t.forEach((function(t){e.commit("setStatus",{id:t.id,status:A.waiting})})),e.dispatch("processAllWaiting")},processAllWaiting:function(e){for(var t=e.state.files.filter((function(e){return e.status===A.processing})).length,n=0;n<navigator.hardwareConcurrency-t;n++){var i=e.state.files.find((function(e){return e.status===A.waiting}));if(void 0===i)break;e.dispatch("processFile",i.id)}},processFile:function(e,t){var n=e.state.files.find((function(e){return e.id===t})),i=B(e.state.config);e.state.worker.postMessage({action:"process",file:n.ogFile,id:n.id,config:i}),e.commit("setStatus",{id:t,status:A.processing})}},modules:{}});function B(e){return JSON.parse(JSON.stringify(e))}Object(i["e"])(l).use(q).use(J).mount("#app")},5864:function(e,t,n){},9499:function(e,t,n){"use strict";n("e360")},be7d:function(e,t,n){},c644:function(e,t,n){},e360:function(e,t,n){},e5c7:function(e,t,n){"use strict";n("5864")}});
//# sourceMappingURL=app.ed23ee57.js.map